name: "Stale Issues"

on:
    schedule:
        # Run daily at 01:00 UTC
        - cron: "0 1 * * *"
    workflow_dispatch:

permissions:
    issues: write
    pull-requests: write

jobs:
    stale:
        name: "Close Stale Issues & PRs"
        runs-on: ubuntu-latest
        steps:
            - name: Stale issues and PRs
              uses: actions/stale@5bef64f19d7facfb25b37b414482c7164d639639 # v9.1.0
              with:
                  stale-issue-message: >
                      This issue has been automatically marked as stale because it has not had
                      recent activity. It will be closed in 14 days if no further activity occurs.
                      If this issue is still relevant, please leave a comment or remove the stale label.
                  stale-pr-message: >
                      This pull request has been automatically marked as stale because it has not had
                      recent activity. It will be closed in 14 days if no further activity occurs.
                      If this PR is still relevant, please leave a comment or remove the stale label.
                  close-issue-message: >
                      This issue was closed because it has been stale for 14 days with no activity.
                      Feel free to reopen if this is still relevant.
                  close-pr-message: >
                      This pull request was closed because it has been stale for 14 days with no activity.
                      Feel free to reopen if this is still relevant.
                  days-before-stale: 60
                  days-before-close: 14
                  stale-issue-label: "stale"
                  stale-pr-label: "stale"
                  exempt-issue-labels: "pinned,security,bug"
                  exempt-pr-labels: "pinned,security"
